/* Page for wine category listings; each category can span multiple pages */
.page--listing {
  display: block !important;      /* override any flex layout from .page */
  page-break-after: always;       /* each listing starts on a new page */
  align-items: initial !important;
  justify-content: initial !important;
  padding: 0;                     /* margins handled by @page */
  box-sizing: border-box;
}

/* Inner content wrapper for a listing page */
.listing-inner {
  display: block !important;
  font-size: 11pt;
  line-height: 1.4;
  width: 100%;
}

/* Optional category title displayed at the top of a listing */
.listing-category-title {
  font-size: 14pt;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  margin: 0 0 8mm 0;
}

/* Region title (e.g., Toscana) within the listing */
.listing-region-title {
  font-size: 13pt;
  text-transform: uppercase;
  letter-spacing: 0.06em;
  margin: 6mm 0 4mm 0;
  font-weight: 600;
  opacity: 0.85;
  page-break-before: avoid;
  page-break-after: avoid;
  orphans: 3;
  widows: 3;
  padding-top: 20mm; /* visual offset when a new page starts */
}

/* Remove extra top padding for the very first region title */
.listing-inner > *:first-child > .listing-region-title:first-child,
.listing-inner > .listing-region-title:first-child,
.page--listing:first-of-type .listing-region-title:first-child,
.page--category_cover + .page--listing .listing-region-title:first-child {
  padding-top: 0 !important;
}

/* Zone title (e.g., Bolgheri) within a region */
.listing-zone-title {
  font-size: 11pt;
  text-transform: none;
  letter-spacing: 0.03em;
  margin: 4mm 0 0 0;
  padding-bottom: 2.5mm;
  padding-top: 5mm;
  font-weight: 500;
  opacity: 0.75;
  font-style: italic;
  page-break-before: auto;
  page-break-after: avoid;
  orphans: 2;
  widows: 2;
  min-height: 15mm; /* ensures room for title + at least one wine row */
}

/* Reduce extra spacing after a zone title */
.listing-zone-title + * {
  margin-top: 0;
}

/* First wine row after a zone title, kept visually close to its title */
.listing-zone-title + .wine-row,
.listing-zone-title ~ .wine-row:first-of-type {
  page-break-before: avoid;           /* non iniziare pagina qui se possibile */
  page-break-inside: avoid !important;
  break-inside: avoid !important;
  page-break-after: avoid;
}

/* First zone title after a region title: no extra top spacing/protection */
.listing-region-title + .listing-zone-title {
  min-height: 0 !important;
  padding-top: 0 !important;
  margin-top: 0 !important;
  padding-bottom: 2.5mm !important;
  page-break-inside: avoid !important;
  break-inside: avoid !important;
  page-break-before: avoid !important;
  page-break-after: avoid;
}

/* Single wine row block that must not be split across pages */
.wine-row {
  display: inline-block;              /* trucco: blocco in-line non spezzabile */
  width: 100%;
  margin-bottom: 5mm;
  position: relative;
  padding-top: 2mm;
  box-sizing: border-box;

  page-break-inside: avoid !important;
  break-inside: avoid !important;
  -webkit-column-break-inside: avoid; /* extra per WebKit/Chrome */
  page-break-after: avoid;
  page-break-before: auto;
}

/* Extra safety: nessun figlio di .wine-row puÃ² introdurre una rottura interna */
.wine-row * {
  page-break-inside: avoid !important;
  break-inside: avoid !important;
}

/* Table-like layout for each wine row: info, producer, prices */
.wine-row-inner {
  display: table !important;
  width: 100%;
  table-layout: fixed;
  page-break-inside: avoid !important;
  break-inside: avoid !important;
  page-break-after: avoid;
  page-break-before: auto;
}

/* Spacing between consecutive wine rows */
.wine-row + .wine-row {
  padding-top: 0;
  page-break-inside: avoid !important;
  break-inside: avoid !important;
  page-break-after: avoid;
  page-break-before: auto;
}

/* Remove extra top spacing after zone or region titles for the first wine row */
.listing-zone-title + .wine-row,
.listing-region-title + .wine-row {
  padding-top: 0 !important;
  margin-top: 0;
  page-break-inside: avoid !important;
  break-inside: avoid !important;
  page-break-after: avoid;
  page-break-before: auto;
}

/* Very first wine row in the listing body */
.listing-inner > .wine-row:first-child {
  padding-top: 0 !important;
  page-break-inside: avoid !important;
  break-inside: avoid !important;
  page-break-after: avoid;
  page-break-before: auto;
}

/* Wine row columns turned into table cells (info, producer, prices) */
.wine-info,
.wine-producer-column,
.wine-prices {
  display: table-cell !important;
  vertical-align: top;
  page-break-inside: avoid !important;
  break-inside: avoid !important;
  page-break-after: avoid;
  page-break-before: auto;
}

/* Left column with wine name and descriptive details */
.wine-info {
  width: 95mm;
  min-width: 0;
}

/* Wine name line */
.wine-name {
  margin: 0 0 1mm 0;
  font-size: 11pt;
}

/* Wine note line (optional note under wine name) */
.wine-note-line {
  font-size: 7pt;
  margin: 0 0 1mm 0;
  opacity: 0.7;
}

/* Span for wine note text */
.wine-note {
  font-style: normal;
  color: var(--muted, #666);
}

/* Grapes line text (e.g., blend/composition) */
.wine-grapes-line {
  font-size: 9pt;
  margin: 0 0 1mm 0;
  opacity: 0.8;
}

/* Span for grapes list */
.wine-grapes {
  font-style: normal;
}

/* Aging + ABV line (e.g., barrel aging and alcohol content) */
.wine-aging-abv-line {
  font-size: 9pt;
  margin: 0 0 1mm 0;
  opacity: 0.8;
}

/* Span for aging information */
.wine-aging {
  font-style: normal;
}

/* Span for alcohol by volume */
.wine-abv {
  font-style: normal;
}

/* Production location line (e.g., zone/area of production) */
.wine-production-location-line {
  font-size: 9pt;
  margin: 0;
  opacity: 0.8;
  font-style: italic;
}

/* Span for production location text */
.wine-production-location {
  font-style: italic;
}

/* Producer name styling inside the producer column */
.wine-producer {
  font-weight: 400;
}

/* Middle column: producer name aligned to the right */
.wine-producer-column {
  min-width: 100mm;
  text-align: right;
  font-size: 10pt;
  padding-top: 0;
  padding-left: 5mm;
}

/* Right column: wine prices (glass/bottle) */
.wine-prices {
  width: 25mm;
  text-align: right;
  font-size: 10pt;
}

/* Optional styling for glass price row */
.wine-price-glass {
  margin-bottom: 1mm;
}

/* Bottle price emphasized */
.wine-price-bottle {
  font-weight: 500;
}
